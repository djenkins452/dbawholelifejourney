{% extends "base.html" %}

{% block title %}Themes - Admin Console{% endblock %}

{% block content %}
<div class="container">
    <div class="page-header">
        <div>
            <nav class="breadcrumb">
                <a href="{% url 'admin_console:dashboard' %}">Admin Console</a>
                <span>/</span>
                <span>Themes</span>
            </nav>
            <h1 class="page-title">Themes</h1>
            <p class="page-subtitle">Create and manage color themes for your users</p>
        </div>
        <a href="{% url 'admin_console:theme_create' %}" class="btn btn-primary">
            <svg viewBox="0 0 24 24" width="18" height="18" fill="none" stroke="currentColor" stroke-width="2">
                <line x1="12" y1="5" x2="12" y2="19"/>
                <line x1="5" y1="12" x2="19" y2="12"/>
            </svg>
            New Theme
        </a>
    </div>
    
    {% if themes %}
    <div class="theme-grid">
        {% for theme in themes %}
        <div class="theme-card">
            <div class="theme-preview" style="
                background: {{ theme.color_background }};
                border-color: {{ theme.color_border }};
            ">
                <div class="preview-header" style="background: {{ theme.color_surface }};">
                    <span class="preview-dot" style="background: {{ theme.color_accent }};"></span>
                    <span class="preview-dot" style="background: {{ theme.color_primary }};"></span>
                    <span class="preview-dot" style="background: {{ theme.color_text_muted }};"></span>
                </div>
                <div class="preview-content">
                    <div class="preview-text" style="background: {{ theme.color_text }}; width: 60%;"></div>
                    <div class="preview-text" style="background: {{ theme.color_text_muted }}; width: 80%;"></div>
                    <div class="preview-button" style="background: {{ theme.color_accent }};"></div>
                </div>
            </div>
            
            <div class="theme-info">
                <div class="theme-header">
                    <h3 class="theme-name">{{ theme.name }}</h3>
                    {% if theme.is_default %}
                        <span class="badge badge-accent">Default</span>
                    {% endif %}
                    {% if not theme.is_active %}
                        <span class="badge badge-muted">Inactive</span>
                    {% endif %}
                </div>
                <p class="theme-description">{{ theme.description|default:"No description" }}</p>
                
                <div class="theme-colors">
                    <span class="color-dot" style="background: {{ theme.color_accent }};" title="Accent"></span>
                    <span class="color-dot" style="background: {{ theme.color_primary }};" title="Primary"></span>
                    <span class="color-dot" style="background: {{ theme.color_text }};" title="Text"></span>
                    <span class="color-dot" style="background: {{ theme.color_background }};" title="Background"></span>
                    <span class="color-dot" style="background: {{ theme.color_surface }};" title="Surface"></span>
                </div>
                
                <div class="theme-actions">
                    <a href="{% url 'admin_console:theme_update' theme.pk %}" class="btn btn-secondary btn-sm">Edit</a>
                    <a href="{% url 'admin_console:theme_delete' theme.pk %}" class="btn btn-ghost btn-sm text-error">Delete</a>
                </div>
            </div>
        </div>
        {% endfor %}
    </div>
    {% else %}
    <div class="empty-state">
        <h2>No themes yet</h2>
        <p>Create your first theme to get started.</p>
        <a href="{% url 'admin_console:theme_create' %}" class="btn btn-primary">Create Theme</a>
    </div>
    {% endif %}
</div>

<style>
.breadcrumb {
    display: flex;
    align-items: center;
    gap: var(--space-2);
    font-size: var(--font-size-sm);
    color: var(--color-text-muted);
    margin-bottom: var(--space-2);
}

.breadcrumb a {
    color: var(--color-accent);
}

.page-header {
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
    margin-bottom: var(--space-6);
}

.theme-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
    gap: var(--space-6);
}

.theme-card {
    background: var(--color-background);
    border: 1px solid var(--color-border);
    border-radius: var(--radius-lg);
    overflow: hidden;
}

.theme-preview {
    height: 120px;
    border: 1px solid;
    border-radius: var(--radius-md);
    margin: var(--space-4);
    overflow: hidden;
}

.preview-header {
    display: flex;
    gap: var(--space-2);
    padding: var(--space-2);
}

.preview-dot {
    width: 8px;
    height: 8px;
    border-radius: 50%;
}

.preview-content {
    padding: var(--space-3);
    display: flex;
    flex-direction: column;
    gap: var(--space-2);
}

.preview-text {
    height: 8px;
    border-radius: 4px;
    opacity: 0.6;
}

.preview-button {
    width: 40px;
    height: 16px;
    border-radius: 4px;
    margin-top: var(--space-2);
}

.theme-info {
    padding: 0 var(--space-4) var(--space-4);
}

.theme-header {
    display: flex;
    align-items: center;
    gap: var(--space-2);
    margin-bottom: var(--space-2);
}

.theme-name {
    font-size: var(--font-size-lg);
    margin: 0;
}

.theme-description {
    font-size: var(--font-size-sm);
    color: var(--color-text-muted);
    margin: 0 0 var(--space-3) 0;
}

.theme-colors {
    display: flex;
    gap: var(--space-2);
    margin-bottom: var(--space-4);
}

.color-dot {
    width: 24px;
    height: 24px;
    border-radius: 50%;
    border: 2px solid var(--color-border);
}

.theme-actions {
    display: flex;
    gap: var(--space-2);
}

.badge {
    display: inline-block;
    padding: var(--space-1) var(--space-2);
    font-size: var(--font-size-xs);
    font-weight: 500;
    border-radius: var(--radius-sm);
}

.badge-accent {
    background: color-mix(in srgb, var(--color-accent) 15%, transparent);
    color: var(--color-accent);
}

.badge-muted {
    background: var(--color-surface);
    color: var(--color-text-muted);
}

.text-error {
    color: var(--color-error);
}
</style>
{% endblock %}
