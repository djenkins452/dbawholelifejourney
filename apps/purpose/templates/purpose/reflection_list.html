{% extends "base.html" %}

{% block title %}Reflections - Purpose{% endblock %}

{% block content %}
<div class="container">
    <div class="page-header">
        <div>
            <h1 class="page-title">Reflections</h1>
            <p class="page-subtitle">Looking back to move forward</p>
        </div>
        <a href="{% url 'purpose:reflection_create' %}" class="btn btn-primary">
            <svg viewBox="0 0 24 24" width="18" height="18" fill="none" stroke="currentColor" stroke-width="2">
                <line x1="12" y1="5" x2="12" y2="19"/>
                <line x1="5" y1="12" x2="19" y2="12"/>
            </svg>
            New Reflection
        </a>
    </div>
    
    {% if reflections %}
    <div class="reflection-list">
        {% for reflection in reflections %}
        <a href="{% url 'purpose:reflection_detail' reflection.pk %}" class="reflection-card">
            <div class="reflection-icon">
                {% if reflection.reflection_type == 'year_end' %}üìù{% endif %}
                {% if reflection.reflection_type == 'year_start' %}üåÖ{% endif %}
                {% if reflection.reflection_type == 'quarterly' %}üìä{% endif %}
                {% if reflection.reflection_type == 'custom' %}‚ú®{% endif %}
            </div>
            <div class="reflection-content">
                <h3>{{ reflection }}</h3>
                <p class="reflection-meta">
                    {{ reflection.get_reflection_type_display }}
                    {% if reflection.is_complete %}
                    <span class="badge badge-complete">Complete</span>
                    {% else %}
                    <span class="badge badge-draft">In Progress</span>
                    {% endif %}
                </p>
            </div>
            <svg class="reflection-arrow" viewBox="0 0 24 24" width="20" height="20" fill="none" stroke="currentColor" stroke-width="2">
                <polyline points="9 18 15 12 9 6"/>
            </svg>
        </a>
        {% endfor %}
    </div>
    {% else %}
    <div class="empty-state">
        <div class="empty-icon">ü™û</div>
        <h2>No Reflections Yet</h2>
        <p>Take time to reflect on your journey. Start with an end-of-year reflection.</p>
        <a href="{% url 'purpose:reflection_create' %}" class="btn btn-primary">Start Reflecting</a>
    </div>
    {% endif %}
</div>

<style>
.reflection-list {
    display: flex;
    flex-direction: column;
    gap: var(--space-3);
}

.reflection-card {
    display: flex;
    align-items: center;
    gap: var(--space-4);
    padding: var(--space-5);
    background: var(--color-background);
    border: 1px solid var(--color-border);
    border-radius: var(--radius-lg);
    text-decoration: none;
    transition: all var(--transition-fast);
}

.reflection-card:hover {
    border-color: var(--color-accent);
    transform: translateX(4px);
}

.reflection-icon {
    font-size: 2rem;
    width: 50px;
    text-align: center;
}

.reflection-content {
    flex: 1;
}

.reflection-content h3 {
    margin: 0;
    font-size: var(--font-size-base);
    color: var(--color-text);
}

.reflection-meta {
    margin: var(--space-1) 0 0 0;
    font-size: var(--font-size-sm);
    color: var(--color-text-muted);
    display: flex;
    align-items: center;
    gap: var(--space-2);
}

.badge {
    font-size: var(--font-size-xs);
    padding: var(--space-1) var(--space-2);
    border-radius: var(--radius-sm);
}

.badge-complete {
    background: color-mix(in srgb, var(--color-success) 20%, transparent);
    color: var(--color-success);
}

.badge-draft {
    background: color-mix(in srgb, var(--color-warning) 20%, transparent);
    color: var(--color-warning);
}

.reflection-arrow {
    color: var(--color-text-muted);
}

.empty-state {
    text-align: center;
    padding: var(--space-12);
}

.empty-icon {
    font-size: 4rem;
    margin-bottom: var(--space-4);
}

.empty-state h2 {
    margin-bottom: var(--space-2);
}

.empty-state p {
    color: var(--color-text-muted);
    margin-bottom: var(--space-6);
}
</style>
{% endblock %}
